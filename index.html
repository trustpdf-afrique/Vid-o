<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zakaria TV - Legacy</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body {margin:0; font-family:'Segoe UI', Tahoma, sans-serif; background:#f4f4f9; color:#333;}
header {text-align:center; padding:20px; background:#5e35b1; color:#fff; box-shadow:0 4px 8px rgba(0,0,0,0.2);}
header h1 {font-size:2.5em; letter-spacing:3px; margin:0; font-weight:bold;}
header h2 {font-size:1em; letter-spacing:2px; margin:0; font-weight:normal; opacity:0.8;}
.container {padding:15px; display:flex; flex-wrap:wrap; justify-content:center; gap:15px;}
.page-card, .episode-card, .media-card {
  border-radius:25px; box-shadow:0 6px 15px rgba(0,0,0,0.25);
  display:flex; align-items:center; justify-content:center; flex-direction:column;
  cursor:pointer; text-align:center; transition:transform 0.3s, box-shadow 0.3s, opacity 0.3s;
  opacity:0; animation:fadeIn 0.5s forwards;
}
.page-card {width:45%; min-width:140px; height:120px; font-weight:bold; font-size:1.1em; color:#fff;}
.page-card i {font-size:1.8em; margin-bottom:8px;}
.page-card:hover {transform:scale(1.05); box-shadow:0 8px 20px rgba(0,0,0,0.35);}
.episode-card {width:45%; min-width:140px; height:120px; font-weight:bold; font-size:1em; color:#fff; margin:5px 0;}
.episode-card:hover {transform:scale(1.05); box-shadow:0 8px 20px rgba(0,0,0,0.35);}
.media-card {width:45%; min-width:140px; height:100px; font-weight:bold; font-size:0.95em; color:#fff; margin:10px 0;}
.media-card:hover {transform:scale(1.03);}
.btn {display:block; margin:5px auto; padding:8px 15px; font-size:0.9em; background:linear-gradient(90deg,#8e24aa,#d81b60); color:#fff; border:none; border-radius:15px; font-weight:bold; cursor:pointer; box-shadow:0 4px 12px rgba(0,0,0,0.25);}
.btn:hover {background:linear-gradient(90deg,#d81b60,#8e24aa);}
#modal {display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); overflow:auto; padding:10px; z-index:100; opacity:0; transition:opacity 0.4s;}
#modal.show {display:block; opacity:1;}
#modal .content {background:#fff; border-radius:25px; padding:20px; margin:50px auto; max-width:95%; position:relative; box-shadow:0 6px 20px rgba(0,0,0,0.4); transform:translateY(50px); transition:transform 0.4s;}
#modal.show .content {transform:translateY(0);}
#modal .close {position:absolute; top:10px; right:20px; font-size:2em; cursor:pointer; color:#333;}
.tab-bar {display:flex; flex-wrap:wrap; justify-content:space-around; margin-bottom:15px; opacity:0; animation:fadeIn 0.5s forwards;}
.tab {padding:10px 15px; border-radius:15px; cursor:pointer; color:#fff; font-weight:bold; flex:1; text-align:center; margin:2px;}
.tab.active {box-shadow:0 4px 12px rgba(0,0,0,0.3); transform:scale(1.05);}
h2 {text-align:center; color:#5e35b1; margin-bottom:20px;}
.media-item {text-align:center; margin:10px 0; opacity:0; animation:fadeIn 0.6s forwards;}
video, img {width:90%; border-radius:15px; margin-top:5px;}
input[type=text] {width:85%; margin-top:5px; border-radius:10px; padding:5px;}
.bottom-nav {position:fixed; bottom:0; left:0; width:100%; display:flex; justify-content:space-around; background:#5e35b1; padding:10px 0; box-shadow:0 -4px 10px rgba(0,0,0,0.2); z-index:200;}
.bottom-nav i {color:#fff; font-size:1.5em; cursor:pointer; transition:0.2s;}
.bottom-nav i:hover {transform:scale(1.2);}
@keyframes fadeIn {from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);}}
</style>
</head>
<body>

<header>
  <h1>ZAKARIA TV</h1>
  <h2>legacy</h2>
</header>

<div class="container" id="mainPages">
  <div class="page-card" id="afriqueCard" onclick="openSection('afrique')"><i class="fas fa-globe-africa"></i>üåç Afrique de l‚ÄôOuest</div>
  <div class="page-card" id="royaumesCard" onclick="openSection('royaumes')"><i class="fas fa-chess-rook"></i>Royaumes & Empires</div>
  <div class="page-card" id="decolonisationCard" onclick="openSection('decolonisation')"><i class="fas fa-landmark"></i>D√©colonisation</div>
  <div class="page-card" id="revolutionsCard" onclick="openSection('revolutions')"><i class="fas fa-flag"></i>R√©volutions</div>
  <div class="page-card" id="crimeCard" onclick="openSection('crime')"><i class="fas fa-user-secret"></i>TRUE CRIME & MYST√àRES</div>
</div>

<div id="modal">
  <div class="content">
    <span class="close" onclick="closeModal()">&times;</span>
    <div class="tab-bar" id="tabBar"></div>
    <h2 id="modalTitle"></h2>
    <div id="modalBody"></div>
  </div>
</div>

<div class="bottom-nav">
  <i class="fas fa-home" onclick="closeModal()"></i>
  <i class="fas fa-folder-open"></i>
  <i class="fas fa-video"></i>
  <i class="fas fa-image"></i>
  <i class="fas fa-cog"></i>
</div>

<script>
let mediaStore={};
const sections = {
  afrique:['B√©nin','Burkina Faso','Cap-Vert','C√¥te d‚ÄôIvoire','Gambie','Ghana','Guin√©e','Guin√©e-Bissau','Liberia','Mali','Niger','Nigeria','S√©n√©gal','Sierra Leone','Togo'],
  royaumes:['√âpisode 1','√âpisode 2','√âpisode 3','√âpisode 4','√âpisode 5'],
  decolonisation:['√âpisode 1','√âpisode 2','√âpisode 3','√âpisode 4','√âpisode 5'],
  revolutions:['√âpisode 1','√âpisode 2','√âpisode 3','√âpisode 4','√âpisode 5'],
  crime:['üî™ Crimes C√©l√®bres','üëª Myst√®res Non R√©solus','üïµüèæ Disparitions √âtranges','üèöÔ∏è Histoires Terrifiantes','üì∞ Affaires Insolites']
};
const sectionColors={afrique:'#f06292',royaumes:'#26a69a',decolonisation:'#ffb74d',revolutions:'#9575cd',crime:'#ff7043'};
const episodeColors=['#ff8a65','#4db6ac','#ba68c8','#ffd54f','#7986cb','#f06292','#26a69a','#ff7043','#9575cd','#d32f2f'];

function buildTabs(){
  const tabBar=document.getElementById('tabBar'); tabBar.innerHTML='';
  Object.keys(sections).forEach(sec=>{
    const tab=document.createElement('div'); tab.className='tab';
    tab.style.background=sectionColors[sec]; tab.innerText=sec.toUpperCase();
    tab.onclick=()=>openSection(sec); tabBar.appendChild(tab);
  });
}

function openSection(section){
  buildTabs(); highlightTab(section); document.getElementById('modalTitle').innerText = section;
  const container=document.getElementById('modalBody'); container.innerHTML="";
  sections[section].forEach((item,index)=>{
    const div=document.createElement('div'); div.className='episode-card'; div.innerText=item;
    div.style.background=episodeColors[index%episodeColors.length];
    if(section==='afrique'){ div.onclick=()=>openEpisodes(item); }
    else{ div.onclick=()=>openMediaPage(item); }
    container.appendChild(div);
  });
  document.getElementById('modal').classList.add('show');
}

function highlightTab(section){ document.querySelectorAll('.tab').forEach(tab=>{tab.classList.remove('active'); if(tab.innerText.toLowerCase()===section) tab.classList.add('active');}); }

function openEpisodes(country){
  document.getElementById('modalTitle').innerText = country;
  const container=document.getElementById('modalBody'); container.innerHTML="";
  if(!mediaStore[country]) mediaStore[country]={episodes:['√âpisode 1','√âpisode 2','√âpisode 3','√âpisode 4','√âpisode 5']};
  mediaStore[country].episodes.forEach((ep,i)=>{
    const div=document.createElement('div'); div.className='episode-card';
    div.style.background=episodeColors[i%episodeColors.length];
    div.innerHTML=`${ep}<br>
      <button class="btn" onclick="moveEpisode('${country}',${i},-1)">‚¨ÜÔ∏è</button>
      <button class="btn" onclick="moveEpisode('${country}',${i},1)">‚¨áÔ∏è</button>
      <button class="btn" onclick="openMediaPage('${country} - ${ep}')">Modifier M√©dias</button>`;
    container.appendChild(div);
  });
}

function moveEpisode(title,index,dir){
  const eps=mediaStore[title].episodes; if(!eps) return;
  const newIndex=index+dir; if(newIndex<0||newIndex>=eps.length) return;
  [eps[index],eps[newIndex]]=[eps[newIndex],eps[index]];
  renderEpisodes(title,eps);
}

function renderEpisodes(title,episodes){ openEpisodes(title); }

function openMediaPage(title){
  if(!mediaStore[title]) mediaStore[title]={videos:[],images:[]};
  const container=document.getElementById('modalBody');
  container.innerHTML=`<h2>${title}</h2>
    <button class="btn" onclick="document.getElementById('videoInput').click()">Ajouter Vid√©o</button>
    <input type="file" id="videoInput" accept="video/*" onchange="addMedia('${title}','video',this.files[0])">
    <button class="btn" onclick="document.getElementById('imageInput').click()">Ajouter Image</button>
    <input type="file" id="imageInput" accept="image/*" onchange="addMedia('${title}','image',this.files[0])">
    <div id="mediaList"></div>`;
  renderMedia(title);
}

function addMedia(title,type,file){ if(file){ mediaStore[title][type+'s'].push(file); renderMedia(title); } }

function renderMedia(title){
  const container=document.getElementById('mediaList'); container.innerHTML="";
  mediaStore[title].videos.forEach((vid,i)=>{
    const div=document.createElement('div'); div.className='media-item';
    div.innerHTML=`<video controls src="${URL.createObjectURL(vid)}"></video><br>
      <input type="text" placeholder="Titre vid√©o" value="${vid.name}" onchange="renameMedia('${title}','video',${i},this.value)">
      <button class="btn" onclick="removeMedia('${title}','video',${i})">Retirer Vid√©o</button>`;
    container.appendChild(div);
  });
  mediaStore[title].images.forEach((img,i)=>{
    const div=document.createElement('div'); div.className='media-item';
    div.innerHTML=`<img src="${URL.createObjectURL(img)}"><br>
      <input type="text" placeholder="Titre image" value="${img.name}" onchange="renameMedia('${title}','image',${i},this.value)">
      <button class="btn" onclick="removeMedia('${title}','image',${i})">Retirer Image</button>`;
    container.appendChild(div);
  });
}

function renameMedia(title,type,index,newName){
  const file=mediaStore[title][type+'s'][index];
  const newFile=new File([file],newName,{type:file.type});
  mediaStore[title][type+'s'][index]=newFile;
  renderMedia(title);
}

function removeMedia(title,type,index){
  const item=mediaStore[title][type+'s'][index];
  const url=URL.createObjectURL(item); const a=document.createElement('a'); a.href=url;
  a.download=(type==='video'?'video.mp4':'image.png'); a.click();
  mediaStore[title][type+'s'].splice(index,1); renderMedia(title);
}

function closeModal(){ const modal=document.getElementById('modal'); modal.classList.remove('show'); setTimeout(()=>{modal.style.display='none';},400);}
</script>

</body>
                                                                                                                                </html>
