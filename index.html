<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zakaria TV - Legacy</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body {margin:0; font-family:'Segoe UI', Tahoma, sans-serif; background:#f4f4f9; color:#333;}
header {text-align:center; padding:20px; background:#5e35b1; color:#fff; box-shadow:0 4px 8px rgba(0,0,0,0.2);}
header h1 {font-size:2.5em; letter-spacing:3px; margin:0; font-weight:bold;}
header h2 {font-size:1em; letter-spacing:2px; margin:0; font-weight:normal; opacity:0.8;}
.container {padding:15px; display:flex; flex-wrap:wrap; justify-content:center; gap:15px;}
.page-card, .episode-card, .media-card {
  border-radius:25px; box-shadow:0 6px 15px rgba(0,0,0,0.25);
  display:flex; align-items:center; justify-content:center; flex-direction:column;
  cursor:pointer; text-align:center; transition:transform 0.3s, box-shadow 0.3s, opacity 0.3s;
  opacity:0; animation:fadeIn 0.5s forwards;
}
.page-card {width:45%; min-width:140px; height:120px; font-weight:bold; font-size:1.1em; color:#fff;}
.page-card i {font-size:1.8em; margin-bottom:8px;}
.page-card:hover {transform:scale(1.05); box-shadow:0 8px 20px rgba(0,0,0,0.35);}
.episode-card {width:45%; min-width:140px; height:120px; font-weight:bold; font-size:1em; color:#fff; margin:5px 0;}
.episode-card:hover {transform:scale(1.05); box-shadow:0 8px 20px rgba(0,0,0,0.35);}
.media-card {width:45%; min-width:140px; height:100px; font-weight:bold; font-size:0.95em; color:#fff; margin:10px 0;}
.media-card:hover {transform:scale(1.03);}
.btn {display:block; margin:5px auto; padding:8px 15px; font-size:0.9em; background:linear-gradient(90deg,#8e24aa,#d81b60); color:#fff; border:none; border-radius:15px; font-weight:bold; cursor:pointer; box-shadow:0 4px 12px rgba(0,0,0,0.25);}
.btn:hover {background:linear-gradient(90deg,#d81b60,#8e24aa);}
.back-btn {background:#333; color:#fff;}
#modal {display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); overflow:auto; padding:10px; z-index:100; opacity:0; transition:opacity 0.4s;}
#modal.show {display:block; opacity:1;}
#modal .content {background:#fff; border-radius:25px; padding:20px; margin:50px auto; max-width:95%; position:relative; box-shadow:0 6px 20px rgba(0,0,0,0.4); transform:translateY(50px); transition:transform 0.4s;}
#modal.show .content {transform:translateY(0);}
#modal .close {position:absolute; top:10px; right:20px; font-size:2em; cursor:pointer; color:#333;}
h2 {text-align:center; color:#5e35b1; margin-bottom:20px;}
.media-item {text-align:center; margin:10px 0; opacity:0; animation:fadeIn 0.6s forwards;}
video, img {width:90%; border-radius:15px; margin-top:5px;}
input[type=text] {width:85%; margin-top:5px; border-radius:10px; padding:5px;}
@keyframes fadeIn {from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);}}
</style>
</head>
<body>

<header>
  <h1>ZAKARIA TV</h1>
  <h2>legacy</h2>
</header>

<div class="container" id="mainPages">
  <div class="page-card" style="background:#f06292" onclick="openSection('Afrique de l‚ÄôOuest','#f06292')"><i class="fas fa-globe-africa"></i>üåç Afrique de l‚ÄôOuest</div>
  <div class="page-card" style="background:#26a69a" onclick="openSection('Royaumes & Empires','#26a69a')"><i class="fas fa-chess-rook"></i>Royaumes & Empires</div>
  <div class="page-card" style="background:#ffb74d" onclick="openSection('D√©colonisation','#ffb74d')"><i class="fas fa-landmark"></i>D√©colonisation</div>
  <div class="page-card" style="background:#9575cd" onclick="openSection('R√©volutions','#9575cd')"><i class="fas fa-flag"></i>R√©volutions</div>
  <div class="page-card" style="background:#ff7043" onclick="openSection('TRUE CRIME & MYST√àRES','#ff7043')"><i class="fas fa-user-secret"></i>TRUE CRIME & MYST√àRES</div>
</div>

<div id="modal">
  <div class="content" id="modalContent">
    <span class="close" onclick="closeModal()">&times;</span>
    <button class="btn back-btn" id="backBtn" onclick="goBack()">‚¨ÖÔ∏è Retour</button>
    <h2 id="modalTitle"></h2>
    <div id="modalBody"></div>
  </div>
</div>

<script>
let mediaStore={};
let historyStack=[];
const sections = {
  'Afrique de l‚ÄôOuest':['B√©nin','Burkina Faso','Cap-Vert','C√¥te d‚ÄôIvoire','Gambie','Ghana','Guin√©e','Guin√©e-Bissau','Liberia','Mali','Niger','Nigeria','S√©n√©gal','Sierra Leone','Togo'],
  'Royaumes & Empires':['√âpisode 1','√âpisode 2','√âpisode 3','√âpisode 4','√âpisode 5'],
  'D√©colonisation':['√âpisode 1','√âpisode 2','√âpisode 3','√âpisode 4','√âpisode 5'],
  'R√©volutions':['√âpisode 1','√âpisode 2','√âpisode 3','√âpisode 4','√âpisode 5'],
  'TRUE CRIME & MYST√àRES':['üî™ Crimes C√©l√®bres','üëª Myst√®res Non R√©solus','üïµüèæ Disparitions √âtranges','üèöÔ∏è Histoires Terrifiantes','üì∞ Affaires Insolites']
};
const episodeColors=['#ff8a65','#4db6ac','#ba68c8','#ffd54f','#7986cb','#f06292','#26a69a','#ff7043','#9575cd','#d32f2f'];

function openSection(title,color){
  historyStack.push(()=>showMainPages());
  document.getElementById('modalTitle').innerText=title;
  document.getElementById('modalContent').style.background=color;
  const container=document.getElementById('modalBody'); container.innerHTML="";
  sections[title].forEach((ep,i)=>{
    const div=document.createElement('div'); div.className='episode-card';
    div.style.background=episodeColors[i%episodeColors.length];
    div.innerText=ep;
    div.onclick=()=>openEpisodePage(title,ep,color);
    container.appendChild(div);
  });
  document.getElementById('mainPages').style.display='none';
  document.getElementById('modal').classList.add('show');
}

function openEpisodePage(section,episode,color){
  historyStack.push(()=>openSection(section,color));
  document.getElementById('modalTitle').innerText=episode;
  document.getElementById('modalContent').style.background=color;
  const container=document.getElementById('modalBody'); container.innerHTML="";
  if(!mediaStore[episode]) mediaStore[episode]={videos:[],images:[]};
  container.innerHTML=`
    <button class="btn" onclick="document.getElementById('videoInput').click()">Ajouter Vid√©o</button>
    <input type="file" id="videoInput" accept="video/*" onchange="addMedia('${episode}','video',this.files[0])">
    <button class="btn" onclick="document.getElementById('imageInput').click()">Ajouter Image</button>
    <input type="file" id="imageInput" accept="image/*" onchange="addMedia('${episode}','image',this.files[0])">
    <div id="mediaList"></div>
  `;
  renderMedia(episode);
}

function addMedia(title,type,file){ if(file){ mediaStore[title][type+'s'].push(file); renderMedia(title); } }

function renderMedia(title){
  const container=document.getElementById('mediaList'); container.innerHTML="";
  mediaStore[title].videos.forEach((vid,i)=>{
    const div=document.createElement('div'); div.className='media-item';
    div.innerHTML=`<video controls src="${URL.createObjectURL(vid)}"></video><br>
      <input type="text" value="${vid.name}" onchange="renameMedia('${title}','video',${i},this.value)">
      <button class="btn" onclick="removeMedia('${title}','video',${i})">Retirer Vid√©o</button>`;
    container.appendChild(div);
  });
  mediaStore[title].images.forEach((img,i)=>{
    const div=document.createElement('div'); div.className='media-item';
    div.innerHTML=`<img src="${URL.createObjectURL(img)}"><br>
      <input type="text" value="${img.name}" onchange="renameMedia('${title}','image',${i},this.value)">
      <button class="btn" onclick="removeMedia('${title}','image',${i})">Retirer Image</button>`;
    container.appendChild(div);
  });
}

function renameMedia(title,type,index,newName){
  const file=mediaStore[title][type+'s'][index];
  const newFile=new File([file],newName,{type:file.type});
  mediaStore[title][type+'s'][index]=newFile;
  renderMedia(title);
}

function removeMedia(title,type,index){
  mediaStore[title][type+'s'].splice(index,1); renderMedia(title);
}

function goBack(){
  if(historyStack.length>0){ const last=historyStack.pop(); last(); }
  else showMainPages();
}

function showMainPages(){
  document.getElementById('mainPages').style.display='flex';
  document.getElementById('modal').classList.remove('show');
}

function closeModal(){ goBack(); }
</script>

</body>
</html>
